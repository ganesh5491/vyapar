Detailed Prompt: New Customer Creation Flow

Module: Sales
Path: Sales → Customers → New Customer

1️⃣ Display Name Field (Dropdown + Type to Add)
Requirement

The Display Name field must support both:

Selecting from system-generated name formats

Manually typing a custom display name

Behavior

Display Name must be a searchable dropdown with free-text input

Default placeholder: “Select or type to add”

Dropdown options should auto-generate based on Primary Contact details

Auto-Generated Options (Reference: Image 1)

When user enters:

Salutation

First Name

Last Name

Company Name (if provided)

System should automatically generate options such as:

Mr. Sham Sharma

Sham Sharma

Sharma, Sham

Company Name (if available)

User Controls

Admin/user can:

Select any suggested option

OR type a completely custom display name

Typed value must be saved even if it does not match dropdown suggestions

Validation

Display Name is mandatory

Prevent duplicate display names for the same customer

Trim extra spaces and normalize casing

2️⃣ Tax Preference Logic (Taxable / Tax Exempt)
Field

Tax Preference (Radio Button)

⭕ Taxable

⭕ Tax Exempt

When “Taxable” is Selected

(Reference: Image 2)

Show / Enable

GST Treatment *

Place of Supply *

GSTIN (optional but visible)

Tax calculations applicable in invoices

Hide / Disable

Exemption Reason

Validation Rules

GST Treatment is mandatory

Place of Supply is mandatory

GSTIN validation should apply if entered

When “Tax Exempt” is Selected

(Reference: Image 3)

Show / Enable

Exemption Reason * (dropdown + type to add)

Place of Supply *

Currency

Payment Terms

Hide / Disable

GST Treatment

GSTIN

Tax calculation logic

Validation Rules

Exemption Reason is mandatory

GSTIN must be disabled and cleared if previously entered

State Management Rule (Critical)

When switching between Taxable ↔ Tax Exempt:

Clear incompatible fields automatically

Do NOT retain stale GSTIN or tax data

UI should update instantly without page refresh

3️⃣ Place of Supply – Indian States Dropdown
Requirement

Place of Supply must be a searchable dropdown containing all Indian states and UTs

(Reference: Image 4)

Dropdown Behavior

Placeholder: “Select State”

Include:

All 28 Indian States

All Union Territories

States must be stored using standard GST state codes

Search

Add an inline search bar inside dropdown

Search should work on:

Full state name

Partial text (e.g., “Mah” → Maharashtra)

Validation

Mandatory field

Cannot be empty for both Taxable and Tax Exempt customers

4️⃣ GSTIN Field Addition
Field

GSTIN (Reference: Image 5)

Visibility Rules

Visible only when Tax Preference = Taxable

Hidden and cleared when Tax Exempt is selected

Validation Rules

Length: 15 characters

Format validation:

State code (first 2 digits)

PAN embedded

State code in GSTIN must match Place of Supply

If mismatch, show warning (do not block save)

UX Rules

Show inline validation message

Do not allow alphabets in numeric positions

5️⃣ General UX & Data Integrity Rules

All dropdowns must support keyboard navigation

Fields should not overflow container boundaries

Data must be saved in normalized format

Customer master changes must reflect in:

Invoices

Quotes

Sales Orders (future only)

6️⃣ Acceptance Criteria

✔ Display Name supports dropdown + free typing
✔ Taxable / Tax Exempt toggles correct fields
✔ Place of Supply shows all Indian states with search
✔ GSTIN field added with correct visibility & validation
✔ No stale or conflicting tax data saved